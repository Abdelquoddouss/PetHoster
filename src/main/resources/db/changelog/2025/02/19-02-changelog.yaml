databaseChangeLog:
  - changeSet:
      id: 1739963288898-1
      author: Youcode
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - createTable:
            columns:
              - column:
                  constraints:
                    nullable: false
                    primaryKey: true
                    primaryKeyName: pk_animal
                  name: id
                  type: UUID
              - column:
                  name: nom
                  type: VARCHAR(255)
              - column:
                  name: race
                  type: VARCHAR(255)
              - column:
                  name: age
                  type: INT
              - column:
                  name: besoins_specifiques
                  type: VARCHAR(255)
              - column:
                  name: carnet_vaccination
                  type: VARCHAR(255)
              - column:
                  constraints:
                    nullable: false
                  name: proprietaire_id
                  type: UUID
            tableName: animal
  - changeSet:
      id: 1739963288898-2
      author: Youcode
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - createTable:
            columns:
              - column:
                  constraints:
                    nullable: false
                  name: animal_id
                  type: UUID
              - column:
                  name: photos
                  type: VARCHAR(255)
            tableName: animal_photos
  - changeSet:
      id: 1739963288898-3
      author: Youcode
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - createTable:
            columns:
              - column:
                  constraints:
                    nullable: false
                    primaryKey: true
                    primaryKeyName: pk_avis
                  name: id
                  type: UUID
              - column:
                  name: note
                  type: INT
              - column:
                  name: commentaire
                  type: VARCHAR(255)
              - column:
                  name: date_avis
                  type: DATE
              - column:
                  name: proprietaire_id
                  type: UUID
              - column:
                  name: hebergeur_id
                  type: UUID
            tableName: avis
  - changeSet:
      id: 1739963288898-4
      author: Youcode
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - createTable:
            columns:
              - column:
                  constraints:
                    nullable: false
                    primaryKey: true
                    primaryKeyName: pk_messagerie
                  name: id
                  type: UUID
              - column:
                  name: expediteur_id
                  type: UUID
              - column:
                  name: destinataire_id
                  type: UUID
              - column:
                  name: message
                  type: VARCHAR(255)
              - column:
                  name: date_envoi
                  type: DATE
              - column:
                  name: lu
                  type: BOOLEAN
            tableName: messagerie
  - changeSet:
      id: 1739963288898-5
      author: Youcode
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - createTable:
            columns:
              - column:
                  constraints:
                    nullable: false
                    primaryKey: true
                    primaryKeyName: pk_paiement
                  name: id
                  type: UUID
              - column:
                  name: montant
                  type: DOUBLE
              - column:
                  name: date_paiement
                  type: DATE
              - column:
                  name: statut_paiement
                  type: VARCHAR(255)
              - column:
                  name: methode_paiement
                  type: VARCHAR(255)
              - column:
                  name: reservation_id
                  type: UUID
            tableName: paiement
  - changeSet:
      id: 1739963288898-6
      author: Youcode
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - createTable:
            columns:
              - column:
                  constraints:
                    nullable: false
                    primaryKey: true
                    primaryKeyName: pk_reservation
                  name: id
                  type: UUID
              - column:
                  name: date_debut
                  type: DATE
              - column:
                  name: date_fin
                  type: DATE
              - column:
                  name: statut
                  type: VARCHAR(255)
              - column:
                  name: nombre_animaux
                  type: INT
              - column:
                  name: montant_total
                  type: DOUBLE
              - column:
                  name: date_reservation
                  type: DATE
              - column:
                  constraints:
                    nullable: false
                  name: proprietaire_id
                  type: UUID
              - column:
                  constraints:
                    nullable: false
                  name: hebergeur_id
                  type: UUID
            tableName: reservation
  - changeSet:
      id: 1739963288898-7
      author: Youcode
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - createTable:
            columns:
              - column:
                  constraints:
                    nullable: false
                    primaryKey: true
                    primaryKeyName: pk_typeanimal
                  name: id
                  type: UUID
              - column:
                  name: animal_type
                  type: VARCHAR(255)
            tableName: type_animal
  - changeSet:
      id: 1739963288898-8
      author: Youcode
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - createTable:
            columns:
              - column:
                  constraints:
                    nullable: false
                    primaryKey: true
                    primaryKeyName: pk_utilisateur
                  name: id
                  type: UUID
              - column:
                  name: nom
                  type: VARCHAR(255)
              - column:
                  name: prenom
                  type: VARCHAR(255)
              - column:
                  name: email
                  type: VARCHAR(255)
              - column:
                  name: mot_de_passe
                  type: VARCHAR(255)
              - column:
                  name: telephone
                  type: VARCHAR(255)
              - column:
                  name: adresse
                  type: VARCHAR(255)
              - column:
                  name: photo_profil
                  type: VARCHAR(255)
              - column:
                  name: role
                  type: VARCHAR(255)
              - column:
                  name: tarif_par_jour
                  type: DOUBLE
              - column:
                  name: description_service
                  type: VARCHAR(255)
            tableName: utilisateur
  - changeSet:
      id: 1739963288898-9
      author: Youcode
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - createTable:
            columns:
              - column:
                  constraints:
                    nullable: false
                  name: utilisateur_id
                  type: UUID
              - column:
                  name: photos_hebergement
                  type: VARCHAR(255)
            tableName: utilisateur_photos_hebergement
  - changeSet:
      id: 1739963288898-10
      author: Youcode
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: proprietaire_id
            baseTableName: animal
            constraintName: FK_ANIMAL_ON_PROPRIETAIRE
            referencedColumnNames: id
            referencedTableName: utilisateur
  - changeSet:
      id: 1739963288898-11
      author: Youcode
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: hebergeur_id
            baseTableName: avis
            constraintName: FK_AVIS_ON_HEBERGEUR
            referencedColumnNames: id
            referencedTableName: utilisateur
  - changeSet:
      id: 1739963288898-12
      author: Youcode
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: proprietaire_id
            baseTableName: avis
            constraintName: FK_AVIS_ON_PROPRIETAIRE
            referencedColumnNames: id
            referencedTableName: utilisateur
  - changeSet:
      id: 1739963288898-13
      author: Youcode
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: destinataire_id
            baseTableName: messagerie
            constraintName: FK_MESSAGERIE_ON_DESTINATAIRE
            referencedColumnNames: id
            referencedTableName: utilisateur
  - changeSet:
      id: 1739963288898-14
      author: Youcode
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: expediteur_id
            baseTableName: messagerie
            constraintName: FK_MESSAGERIE_ON_EXPEDITEUR
            referencedColumnNames: id
            referencedTableName: utilisateur
  - changeSet:
      id: 1739963288898-15
      author: Youcode
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: reservation_id
            baseTableName: paiement
            constraintName: FK_PAIEMENT_ON_RESERVATION
            referencedColumnNames: id
            referencedTableName: reservation
  - changeSet:
      id: 1739963288898-16
      author: Youcode
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: hebergeur_id
            baseTableName: reservation
            constraintName: FK_RESERVATION_ON_HEBERGEUR
            referencedColumnNames: id
            referencedTableName: utilisateur
  - changeSet:
      id: 1739963288898-17
      author: Youcode
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: proprietaire_id
            baseTableName: reservation
            constraintName: FK_RESERVATION_ON_PROPRIETAIRE
            referencedColumnNames: id
            referencedTableName: utilisateur
  - changeSet:
      id: 1739963288898-18
      author: Youcode
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: animal_id
            baseTableName: animal_photos
            constraintName: fk_animal_photos_on_animal
            referencedColumnNames: id
            referencedTableName: animal
  - changeSet:
      id: 1739963288898-19
      author: Youcode
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: utilisateur_id
            baseTableName: utilisateur_photos_hebergement
            constraintName: fk_utilisateur_photoshebergement_on_utilisateur
            referencedColumnNames: id
            referencedTableName: utilisateur


  - changeSet:
      id: 001_add_payment_intent_id_to_reservation  # Un ID unique pour ce changeSet
      author: Youcode  # Votre nom ou équipe
      changes:
        - addColumn:
            tableName: reservation
            columns:
              - column:
                  name: payment_intent_id
                  type: VARCHAR(255)
                  constraints:
                    nullable: true  # Ou false si la colonne ne peut pas être nulle

  - changeSet:
      id: 001_create_utilisateur_type_animal
      author: toi
      changes:
        - createTable:
            tableName: utilisateur_type_animal
            columns:
              - column:
                  name: utilisateur_id
                  type: UUID
                  constraints:
                    nullable: false
              - column:
                  name: type_animal_id
                  type: UUID
                  constraints:
                    nullable: false
        - addForeignKeyConstraint:
            baseTableName: utilisateur_type_animal
            baseColumnNames: utilisateur_id
            constraintName: fk_utilisateur_type_animal_utilisateur
            referencedTableName: utilisateur
            referencedColumnNames: id
        - addForeignKeyConstraint:
            baseTableName: utilisateur_type_animal
            baseColumnNames: type_animal_id
            constraintName: fk_utilisateur_type_animal_type_animal
            referencedTableName: type_animal
            referencedColumnNames: id